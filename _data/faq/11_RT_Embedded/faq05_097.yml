Q: Does TAO support request/reply timeouts?

A: >
 TAO
 supports the Relative Roundtrip Timeout policy as defined in the CORBA Messaging
 specification (OMG Document formal/04-03-12, Chapter 22).  This policy allows you to
 specify the maximum time allowed (in 100 nanosecond units) for a request
 to be sent to and processed by a server and the reply received by the client.
  The policy can be applied at one of three levels: the client ORB, the requesting
 thread, or the object reference on which the request is invoked. <p>
 Relative roundtrip timeouts can be applied when the client requires low request/reply latencies.
 </p><p> The following example shows how to set the Relative Roundtrip Timeout
 policy to a value of 1 millisecond (that is 1.0e-3 * 1.0e7 in 100 nanosecond
 units) and apply it at the ORB level: </p><p>
 </p><pre>
   // Initialize the ORB.  It serves as a factory for policies.
   CORBA::ORB_var orb = CORBA::ORB_init (argc, argv);
 
   // Set the timeout value as a TimeBase::TimeT (100 nanosecond units)
   // and insert it into a CORBA::Any.
   TimeBase::TimeT relative_rt_timeout = 1.0e-3 * 1.0e7;
   CORBA::Any relative_rt_timeout_as_any;
   relative_rt_timeout_as_any &lt;&lt;= relative_rt_timeout;
 
   // Create the policy and put it in a policy list.
   CORBA::PolicyList policies;
   pols.length(1);
   policies[0] = 
     orb->create_policy (Messaging::RELATIVE_RT_TIMEOUT_POLICY_TYPE,
                         relative_rt_timeout_as_any);
 
   // Apply the policy at the ORB level using the ORBPolicyManager.
   CORBA::Object_var obj =
     orb->resolve_initial_references ("ORBPolicyManager");
   CORBA::PolicyManager_var policy_manager = 
     CORBA::PolicyManager::_narrow (obj.in());
   policy_manager->set_policy_overrides (policies, CORBA::SET_OVERRIDE);
 </pre>
 <p> All requests made via this ORB will now timeout if a reply is not received
 within 1 millisecond.  When a timeout occurs, the ORB will raise a <code>CORBA::TIMEOUT</code>
 system exception.  The client can then take whatever action is necessary
 to handle the failure.  If a reply eventually arrives after the timeout period
 has expired, it will be discarded by the client ORB. </p><p> The Relative Roundtrip Timeout policy, and other Quality of Service
 policies defined as part of the CORBA Messaging specification, are described
 in more detail in the OCI <a
 href="{{site.baseurl}}/purchase/index.html"><em>TAO Developer's Guide</em></a>, CORBA Messaging chapter, available from
 <a href="{{site.baseurl}}/">{{site.baseurl}}/</a>.  See also <a href="http://www.cs.wustl.edu/%7Eschmidt/PDF/C++-report-col19.pdf">http://www.cs.wustl.edu/~schmidt/PDF/C++-report-col19.pdf</a>.<br>
 <br>
 
 
